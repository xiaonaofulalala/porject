define(function(){function e(){}return e.prototype.init=function(){$(".ni").addClass("ac"),$(".register").addClass("ac").on("click",".closeBtn",function(){$(".register").removeClass("ac"),$(".ni").removeClass("ac")})},e.prototype.init1=function(){$(".ni").addClass("ac"),$(".login").addClass("ac").on("click",".closeBtn",function(){$(".login").removeClass("ac"),$(".ni").removeClass("ac")})},e.prototype.regedit=function(){var u=[!1,!1,!1,!1],r=document.getElementById("username"),e=document.getElementById("span1"),n=document.getElementById("pwd"),t=document.getElementById("span2"),m=document.getElementById("opwd"),s=document.getElementById("span3"),d=document.getElementById("phone"),a=document.getElementById("span4");r.onfocus=function(){"gray"==this.className&&(this.value="",this.className="")},r.onblur=function(){if(""==this.value)this.value="您的用户名",this.className="gray",e.className="on",e.innerHTML="输入用户名";else if(""!=this.value){/^[0-9a-z_]{1,}$/i.test(this.value)?(e.className="on",e.innerHTML="用户名输入正确",u[0]=!0):(e.className="on",e.innerHTML="错误：用户名只能包含数字、字母、下划线")}},r.onkeydown=function(){"ccc"==this.className&&(this.value="",this.className="")},n.onblur=function(){if(""==this.value)t.className="on",t.innerHTML="请输六位以上的入密码";else if(""!=this.value){if(/^.{6,}$/i.test(this.value))return t.className="on",t.innerHTML="密码输入正确",u[1]=!0,u[1];t.className="on",t.innerHTML="错误：密码必须六位数以上"}},m.onblur=function(){""==this.value?(s.className="on",s.innerHTML="请再次输入密码"):""!=this.value&&(this.value!=n.value?(s.style.color="red",s.innerHTML="错误：两次密码不一致"):(s.className="on",s.innerHTML="两次密码一致",u[2]=!0))},d.onfocus=function(){"gray"==this.className&&(this.value="",this.className="")},d.onblur=function(){if(""==this.value)this.className="gray",a.className="on",a.innerHTML="请输11位手机号码";else if(""!=this.value){/^1\d{10}$/.test(this.value)?(a.className="on",a.innerHTML="号码格式正确",u[3]=!0):(a.className="on",a.innerHTML="号码只能11位数字并以“1”开头")}},d.onkeydown=function(){"ccc"==this.className&&(this.value="",this.className="")},document.getElementById("ZCbtn").onclick=function(e){console.log(u);var n,t,s,a,i,o=r.value,l=m.value,c=d.value;u.every(function(e){return 1==e})?(n="http://localhost/api/v1/register.php",t="username="+o+"&passward="+l+"&phone="+c,s=function(e){alert(e),"注册成功！"==e&&($(".register").remove(),$("#ni").remove())},(i=new XMLHttpRequest).open("POST",n,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?s(i.responseText):a&&a(i.responseText))}):alert("注册不成功")}},e.prototype.login=function(){var c=[!1,!1],u=document.getElementById("username1"),e=document.getElementById("spanL1"),r=document.getElementById("pwd1"),n=document.getElementById("spanL2");u.onfocus=function(){"gray"==this.className&&(this.value="",this.className="")},u.onblur=function(){if(""==this.value)this.value="您的用户名",this.className="gray",e.className="on",e.innerHTML="输入用户名";else if(""!=this.value){/^[0-9a-z_]{1,}$/i.test(this.value)?(e.className="",e.innerHTML="用户名输入正确",c[0]=!0):(e.className="on",e.innerHTML="用户名只能包含数字、字母")}},u.onkeydown=function(){"gray"==this.className&&(this.value="",this.className="")},r.onblur=function(){if(""==this.value)n.className="on",n.innerHTML="请输六位以上的入密码";else if(""!=this.value){if(/^.{6,}$/i.test(this.value))return n.className="",n.innerHTML="密码输入正确",c[1]=!0,c[1];n.className="on",n.innerHTML="错误：密码必须六位数以上",r.value=""}},document.getElementById("DLbtn").onclick=function(e){console.log(c);var n,t,s,a,i,o=u.value,l=r.value;c.every(function(e){return 1==e})?(n="http://localhost/api/v1/login.php",t="username="+o+"&passward="+l,s=function(e){alert(e)},(i=new XMLHttpRequest).open("POST",n,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?s(i.responseText):a&&a(i.responseText))}):(alert("账号或密码格式错误"),u.value="",r.value="")}},new e});